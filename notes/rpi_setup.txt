I am on 1.5 of http://wiki.ros.org/noetic/Installation/Ubuntu
for both rpi and ubuntu

To setup the raspberry pi:
1. I installed ubuntu 20.04 on my laptop.
2. I installed the rpi installer and wrote ubuntu core 20.04 to the sd card.
3. I booted the rpi with said sd card and connected it with ethernet. 
4. Connecting to wifi did not work because ubuntu tries to connect using a strange protocol that is not WPA. After a long time of trying to connect I found that using the program wpa_supplicant (this is the cli program name) works.
5. I added a wifi config by running the following command:
wpa_passphrase "NETWORK_NAME" password | sudo tee /etc/wpa_supplicant/wpa_supplicant.conf
6. I created a very crewd script called connect_to_wifi.sh:
#!/bin/bash/sh
echo "******************"
echo "CONNECTING TO WIFI"
echo "******************"
sudo wpa_supplicant -c /etc/wpa_supplicant/wpa_supplicant.conf -i wlan0 & echo "sudo PID "$!
sleep 3
sudo dhclient wlan0
ifconfig wlan0
echo "DONE?"
7. And another very crewd script called disconnect_wifi.sh:
#!/bin/bash/sh

PROCESSES=$(ps -e | grep "wpa_supplicant")
WPA_PID=$(echo $PROCESSES | cut -d ' ' -f1)

if [ -z $WPA_PID ]
then
    echo "No PID found for wpa_supplicant. Exiting."
    return 0
fi

echo
echo "Process with wpa_supplicant in the command:"
echo $PROCESSES
echo
echo "Would you like to kill PID "$WPA_PID"? (y/n)"

read input

if [ $input = "y" ]
then
    echo "Killing PID "$WPA_PID"..."
    sudo kill $WPA_PID
    sleep 2
    echo "DONE?"
fi
8. I made the script executable (chmod +x SCRIPT_NAME)
9. I then used the following command to add the script to the reboot process
sudo crontab -eu root
10. The text I entered was:
@reboot sh /home/ubuntu/connect_to_wifi.sh
11. Then I rebooted and it automatically connects to the wifi!

